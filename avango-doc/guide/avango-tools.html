<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>Avango Primer - Avango concepts - Essential classes</title>
<link rel="stylesheet" type="text/css" href="screen.css" />
</head>
<body>

<!-- Start page contents -->

<h2>Module: avango-tools</h2>
<p>
The module "avango-tools" provides different classes for interaction in virtual environments.
Generally there are two different concepts to operate on so called target holders: selectors and tools.
A selector is a source of a list of target holders. A tool is a manipulator of the target objects in a list of target holders.
</p>

<h3>Target holder</h3>
<p>
All classes of avango-tools operate on target holders. A target holder contains a reference to the target object which is
generated by a selector or manipulated by a tool. It also contains additional information to describe the target object in
the context of the creation of the target holder.
</p>

<ul class="classlist">
	<li>avango.tools.TargetHolder</li>
	<li>avango.tools.NodePathTargetHolder</li>
	<li>avango.tools.IntersectionTargetHolder</li>
</ul>


<h3>Selectors</h3>
<p>
A selector generates a list of target holders depending on the type of selector.
Most of the selectors of the avango-tools module do some filtering of an already existing list of target holders.
At this time, there is only one selector that acts as a source of new target holders: the PickSelector.
So, the most common case is to create a chain of selectors with a PickSelector at its start.
The final output of the last selector in the chain can then be used as the input for a tool.
</p>

<pre class="snippet">
# create a selector that generates a list of picked objects
pick_selector = avango.tools.nodes.PickSelector()
pick_selector.PickTrigger.connect_from(window.MouseButtons_OnlyLeft)
pick_selector.PickRayTransform.connect_from(camera.MouseNearTransform)
pick_selector.RootNode.connect_from(viewer.Scene)

# create a selector that fiters out all targets of type osg.nodes.Sphere
type_selector = avango.tools.nodes.TypeSelector()
type_selector.Targets.connect_from(pick_selector.SelectedTargets)
type_selector.SelectableTypes.value.append(avango.osg.nodes.Sphere())
</pre>

<ul class="classlist">
	<li>avango.tools.Selector</li>
	<li>avango.tools.ChangeSelector</li>
	<li>avango.tools.InjectSelector</li>
	<li>avango.tools.NameSelector</li>
	<li>avango.tools.ObjectSelector</li>
	<li>avango.tools.PickSelector</li>
	<li>avango.tools.ProximitySelector</li>
	<li>avango.tools.SingleSelector</li>
	<li>avango.tools.TriggerSelector</li>
	<li>avango.tools.TypeSelector</li>
	<li>avango.tools.UnionSelector</li>
</ul>


<h3>Tools</h3>
<p>
A tool needs a list of target holders as a parameter. For every target holder in this list, the referenced object is
manipulated depending on the type of tool.
</p>

<pre class="snippet">
drag_tool = avango.tools.nodes.DragTool()
drag_tool.Targets.connect_from(type_selector.SelectedTargets)
drag_tool.DragTransform.connect_from(camera.MouseTransform)
</pre>

<ul class="classlist">
	<li>avango.tools.Tool</li>
	<li>avango.tools.DragTool</li>
	<li>avango.tools.ScaledGrabTool</li>
</ul>


<h3>Example</h3>
<p>
The following image shows an example. It shows the connections made in the code snippets above.
</p>

<img src="media/avango-tools-example.png" />


<h3>Class diagram</h3>

<img src="media/avango-tools.png" />

<!-- End page contents -->

</body>
</html>
