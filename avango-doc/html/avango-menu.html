<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>Avango Primer - Avango concepts - Essential classes</title>
<link rel="stylesheet" type="text/css" href="screen.css" />
<link rel="stylesheet" type="text/css" href="screen-module.css" />
</head>
<body>

<!-- Start page contents -->

<h2>Module: avango-menu</h2>
<p>
The module "avango-menu" provides a sophisticated set of Python classes to construct 3D-menus in AVANGO.
A menu is composed of widgets and can be placed freely in a 3d scene. There is a set of standard widgets
which provide the functionality to build menus consisting of common 2D-GUI items like buttons, check boxes,
radio buttons and images.


<h3>Widgets</h3>

Widgets are the fundamental items of avango-menu. A widget is the logical representation of a menu element.
It can be added to a Panel or a Container which both act as container objects. To get the visual representation
of a menu the Panel object can be asked for a scene graph node which is represented by the member variable "root".

There are several predefined widget types which can be used to construct a menu.

<pre class="snippet">
button = avango.menu.widget.PushButton(Title = "Push Button")
checkbox = avango.menu.widget.CheckBox(Title = "Check Box")
slider = avango.menu.widget.Slider(Title = "Slider")
divider = avango.menu.widget.Divider()
image = avango.menu.widget.Image(ImageFilename="avangong.png", ImageWidth=0.8, ImageAspectRatio=308.0/59.0)

radio_button_group = avango.menu.RadioButtonGroup()

radio1 = avango.menu.widget.RadioButton(Title = "Radio Button 1", Group = radio_button_group)
radio2 = avango.menu.widget.RadioButton(Title = "Radio Button 2", Group = radio_button_group)

container = avango.menu.widget.Container(Orientation = 2)  # 1=vertical, 2=horizontal
container.add_widget(radio1)
container.add_widget(radio2)
</pre>

<ul class="classlist">
	<li>avango.menu.widget.Container</li>
	<li>avango.menu.widget.Divider</li>
	<li>avango.menu.widget.Image</li>
	<li>avango.menu.widget.Slider</li>
	<li>avango.menu.widget.PushButton</li>
	<li>avango.menu.widget.CheckBox</li>
	<li>avango.menu.widget.RadioButton</li>
</ul>



<h3>Panels</h3>

The main item to construct a menu is a panel, which is the logical representation of a flat menu frame
containing other widgets. This panel can be asked for a visual representation which can be added to the
scene graph. A panel itself is also a widget which can be put into another panel to serve as a sub-menu.
In this case, not the whole panel is placed inside the other panel, but a link to it will be displayed.
If the user clicks on that item, avango-menu takes care of the transition to show the new panel. For the
transition to work correctly, all panels belonging to the same menu structure must be added to a panel
group, which provides a switch node for the scene graph.

<pre class="snippet">
sub_menu = avango.menu.Panel(Title = "Sub Menu")
sub_menu.add_widgets([button])

main_menu = avango.menu.Panel(Title = "Main Menu")
main_menu.add_widgets([button, checkbox, divider, container, divider, slider, divider, sub_menu, divider, image])
</pre>

<ul class="classlist">
	<li>avango.menu.Panel</li>
</ul>




<h3>Panel Groups</h3>

If a panel has one or more sub-panels, all involved panels including the main panel must be collected into
a panel group. A panel group provides a scene graph node which acts like a switch node to show only one
panel of the set at a time. In a multi user environment, every user could get her own panel group to have
a separate interaction context.

<pre class="snippet">
panel_group = avango.menu.PanelGroup()
panel_group.add_panels([main_menu, sub_menu])
panel_group.show_panel(main_menu)
</pre>

<ul class="classlist">
	<li>avango.menu.PanelGroup</li>
</ul>


<h3>Tool</h3>

To interact with a menu, a Tool must be created for each user.

<pre class="snippet">
tool = avango.menu.Tool(Enable=True)
tool.PickTrigger.connect_from(window.MouseButtons_OnlyLeft)
tool.Transform.connect_from(camera.MouseNearTransform)
tool.MenuRootNode.value = scene_root
</pre>

<ul class="classlist">
	<li>avango.menu.Tool</li>
</ul>



<h3>Preferences</h3>

The Preferences sub-module is a central place to store the settings for avango-menu.
This provides the possibility to change parameters like colors or padding between menu items.

<pre class="snippet">
avango.menu.Preferences.container.WidgetHorizontalPadding.value = 0.1
</pre>

<ul class="classlist">
	<li>avango.menu.Preferences.PanelPreferenceFields</li>
  	<li>avango.menu.Preferences.WidgetPreferenceFields</li>
  	<li>avango.menu.Preferences.ContainerPreferenceFields</li>
  	<li>avango.menu.Preferences.LayouterPreferenceFields</li>
  	<li>avango.menu.Preferences.InteractionPreferenceFields</li>
  	<li>avango.menu.Preferences.PlacementPreferenceFields</li>
</ul>

<!-- End page contents -->

</body>
</html>
